<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A cool thing made with Glitch">

    <title>sl2->csv converter</title>
    <link rel="manifest" href="/manifest.webmanifest">
    <script src="/index.18dbc454.js" defer=""></script>
    <link id="favicon" rel="icon" href="/favicon.824cf0c5.ico" type="image/x-icon">
</head>

<body style="text-align: center">
    <img src="/logo.e281644b.png"><br>
    Open a .sl2 sonar file: <input type="file" accept=".sl2, .slg" id="input">
    <h3 id="message"></h3>
    <progress id="progress-bar" style="margin: auto; display: none" value="0"></progress>
    <div id="Download_Options" style="margin: auto; display: none">
        <label for="Column_Selector">Columns to include: </label><br>
        <div id="Column_Selector"></div><br>
        <label for="Output_Format">Output format: </label>
        <select id="Output_Format" placeholder="Output format">
            <option value="csv">csv</option>
            <option value="kml">kml</option>
        </select>
        <button id="download_button">Download</button>
    </div>
    <p id="Info_Text"><b>Info:</b> This tool converts Lowrance's chart plotter down-scan sonar files into a csv or kml
        file.
        It runs entirely in your web browser and does not send any data to a server. Because of this, it also works
        offline in modern browsers. Please note that your sl2 file must be smaller than your computer's available memory
        for a full
        conversion!
        - Use the <a href="https://github.com/Chris78/sl2decode">ruby implementation</a> if this is not the case.<br>
        <br><em>Longitude conversion fixed thanks to examples from sl2decode.rb from Criss76 on Github!</em>
        <br>

    </p>
    <div class="corner-pin">[<a href="https://github.com/KW-M/sl2-csv-converter">Source Code</a>]</div>

    <style>* {
  box-sizing: border-box;
}

body, html {
  color: #000;
  background: #fff;
  margin: 20px;
  font: 17px / 1.2 Helvetica Neue, Helvetica, Arial, sans-serif;
}

#Column_Selector {
  max-width: 500px;
  margin: 10px auto;
}

p#Info_Text {
  max-width: 699px;
  margin: 0 auto;
}

h1 {
  border-bottom: 2px solid;
  width: 350px;
  margin: 0 auto 1em;
  padding-bottom: .3em;
}

.corner-pin {
  padding: 8px;
  font-size: 18px;
  position: fixed;
  bottom: 0;
  right: 0;
}

.si-result {
  font: inherit;
  background: none;
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
  padding: .5em .7em;
}

.si-hide .si-result {
  border-radius: 3px;
}

.si-list {
  border-bottom-right-radius: 3px;
  border-bottom-left-radius: 3px;
}

.si-wrap {
  position: relative;
}

.si-result {
  color: #00000080;
  border: 1px solid #000;
  width: 100%;
  position: relative;
}

.si-result:after {
  content: "";
  pointer-events: none;
  border: 5px solid #0000;
  border-top-color: #0000004d;
  margin-top: -2.5px;
  display: block;
  position: absolute;
  top: 50%;
  right: 1em;
}

.si-result.si-selection {
  color: #000;
}

.si-off .si-result:after {
  border-top-color: #000;
}

.si-list {
  z-index: 9999;
  border: 1px solid;
  border-top: none;
  width: 100%;
  position: absolute;
  top: 100%;
  left: 0;
  overflow-y: auto;
}

.si-list ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

.si-item {
  cursor: pointer;
  background-color: #fff;
  border-bottom: 1px solid;
  justify-content: space-between;
  padding: .5em .7em;
  display: flex;
  position: relative;
}

.si-item:last-child {
  border-bottom: none;
}

.si-item:hover {
  background-color: #dce0ff;
}

.si-selected:after {
  content: "âœ”";
  color: #000;
  position: absolute;
  right: 1em;
}

.si-off .si-list {
  display: none;
}
</style>
</body>

</html>
